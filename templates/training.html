{% extends "_base.html" %}

{% block title %}Training - SPLUNKed{% endblock %}

{% block content %}
{% from "_components.html" import search_input, category_tab %}

<div class="page-container">
    <!-- Page Header -->
    <header class="page-header">
        <h1 class="page-title">Training Center</h1>
        <p class="page-subtitle">
            Practical guides, tutorials, and realistic SOC scenarios.
            Build your analytical instincts through hands-on practice.
        </p>
    </header>

    <!-- Tab Navigation -->
    <div class="training-tabs" id="trainingTabs">
        <button class="training-tab active" data-tab="guides">How-To Guides</button>
        <button class="training-tab" data-tab="tutorials">Tutorials</button>
        <button class="training-tab" data-tab="scenarios">Scenarios</button>
        <button class="training-tab" data-tab="challenges">Challenges</button>
        <button class="training-tab" data-tab="pipelines">Learning Paths</button>
    </div>

    <!-- Controls Bar -->
    <div class="controls-bar">
        {{ search_input(placeholder='Search training content...', id='trainingSearch') }}
    </div>

    <!-- Tab Panels -->
    <div id="guidesPanel" class="tab-panel active" role="tabpanel">
        <div class="guides-grid" id="guidesGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="tutorialsPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="training-grid" id="tutorialsGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="scenariosPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="training-grid" id="scenariosGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="challengesPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="training-grid" id="challengesGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="pipelinesPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="pipelines-grid" id="pipelinesGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <!-- Empty State -->
    <div class="empty-state hidden" id="trainingEmptyState">
        <div class="empty-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="M21 21l-4.35-4.35"/>
            </svg>
        </div>
        <h3 class="empty-title">No content found</h3>
        <p class="empty-message">Try adjusting your search criteria.</p>
    </div>
</div>

<!-- Guide Modal (for How-To Guides) -->
<div class="guide-modal" id="guideModal">
    <div class="guide-modal-overlay" id="guideModalOverlay"></div>
    <div class="guide-modal-content">
        <div class="guide-modal-header">
            <h2 class="guide-modal-title" id="guideModalTitle"></h2>
            <button class="guide-modal-close" id="guideModalClose" aria-label="Close modal">&times;</button>
        </div>
        <div class="guide-modal-body" id="guideModalBody">
            <!-- Populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Training Modal (for tutorials, scenarios, challenges) -->
<div class="training-modal" id="trainingModal">
    <div class="training-modal-overlay" id="trainingModalOverlay"></div>
    <div class="training-modal-content">
        <div class="training-modal-header">
            <div class="training-modal-meta">
                <span class="training-type-badge" id="modalTypeBadge"></span>
                <span class="training-duration" id="modalDuration"></span>
            </div>
            <button class="training-modal-close" id="trainingModalClose" aria-label="Close modal">&times;</button>
        </div>
        <h2 class="training-modal-title" id="trainingModalTitle"></h2>
        <div class="training-modal-objectives" id="trainingModalObjectives">
            <!-- Populated by JavaScript -->
        </div>
        <div class="training-modal-body" id="trainingModalBody">
            <!-- Populated by JavaScript -->
        </div>
        <div class="training-modal-nav" id="trainingModalNav">
            <!-- Populated by JavaScript for scenarios -->
        </div>
    </div>
</div>

<!-- Pipeline Detail Modal -->
<div class="pipeline-modal" id="pipelineModal">
    <div class="pipeline-modal-overlay" id="pipelineModalOverlay"></div>
    <div class="pipeline-modal-content">
        <div class="pipeline-modal-header">
            <div class="pipeline-modal-meta">
                <span class="pipeline-level-badge" id="pipelineLevelBadge"></span>
                <span class="pipeline-duration" id="pipelineDuration"></span>
            </div>
            <button class="pipeline-modal-close" id="pipelineModalClose" aria-label="Close modal">&times;</button>
        </div>
        <h2 class="pipeline-modal-title" id="pipelineModalTitle"></h2>
        <p class="pipeline-modal-description" id="pipelineModalDescription"></p>
        <div class="pipeline-steps" id="pipelineSteps">
            <!-- Populated by JavaScript -->
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='training.js') }}"></script>
{% endblock %}
