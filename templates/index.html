{% extends "_base.html" %}

{% block title %}SPLUNKed - Learn SPL{% endblock %}

{% block content %}
{% from "_components.html" import feature_card %}

<!-- Hero Section -->
<section class="hero">
    <div class="hero-content">
        <h1 class="hero-title">
            <span class="brand-icon">></span>
            SPLUNK<span class="brand-accent">ed</span>
        </h1>
        <p class="hero-subtitle">
            Your educational companion for mastering SPL (Search Processing Language).
            From day-one analysts to seasoned experts.
        </p>
        <div class="hero-nav-grid">
            <a href="{{ url_for('glossary') }}" class="hero-nav-link">
                <span class="hero-nav-icon">&lt;/&gt;</span>
                <span class="hero-nav-title">SPL Reference</span>
            </a>
            <a href="{{ url_for('references') }}" class="hero-nav-link">
                <span class="hero-nav-icon">&#9670;</span>
                <span class="hero-nav-title">Knowledge</span>
            </a>
            <a href="{{ url_for('guides') }}" class="hero-nav-link">
                <span class="hero-nav-icon">?</span>
                <span class="hero-nav-title">Guides</span>
            </a>
            <a href="{{ url_for('training') }}" class="hero-nav-link">
                <span class="hero-nav-icon">&#9655;</span>
                <span class="hero-nav-title">Training</span>
            </a>
            <a href="{{ url_for('prompt_builder') }}" class="hero-nav-link">
                <span class="hero-nav-icon">&gt;_</span>
                <span class="hero-nav-title">Prompt Builder</span>
            </a>
            <a href="{{ url_for('query_library') }}" class="hero-nav-link">
                <span class="hero-nav-icon">&#9861;</span>
                <span class="hero-nav-title">Query Library</span>
            </a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="page-container">
    <div class="features-grid">
        {{ feature_card(
            title="SPL Reference",
            description="Commands and functions for the Search Processing Language. Syntax, examples, gotchas, and tips for every SPL command and function.",
            icon="</>",
            link=url_for('glossary'),
            link_text="Browse SPL"
        ) }}

        {{ feature_card(
            title="Splunk Knowledge",
            description="Platform fundamentals, Enterprise Security (RBA, Notable Events, Asset/Identity), CIM data models, and common pitfalls to avoid.",
            icon="◆",
            link=url_for('references'),
            link_text="Explore Knowledge"
        ) }}

        {{ feature_card(
            title="Investigation Guides",
            description="Detection-driven and data-source guides for security investigations. Real-world scenarios with SPL patterns you can apply immediately.",
            icon="?",
            link=url_for('guides'),
            link_text="View Guides"
        ) }}

        {{ feature_card(
            title="Training Center",
            description="Hands-on tutorials, realistic scenarios, and skill challenges. Progress from foundations to expert-level techniques at your own pace.",
            icon="▷",
            link=url_for('training'),
            link_text="Start Training"
        ) }}

        {{ feature_card(
            title="Prompt Builder",
            description="Compose SPL queries visually using reusable search objects. Select data sources, add filters, and generate production-ready SPL.",
            icon=">_",
            link=url_for('prompt_builder'),
            link_text="Build Queries"
        ) }}

        {{ feature_card(
            title="Query Library",
            description="100 curated SPL queries for security analysts. Browse by category, search by keyword, or discover random queries for creative inspiration.",
            icon="&#9861;",
            link=url_for('query_library'),
            link_text="Browse Queries"
        ) }}
    </div>
</section>

<!-- Quick Start Section -->
<section class="page-container">
    <div class="page-header">
        <h2 class="page-title">Quick Reference</h2>
        <p class="page-subtitle">
            Essential SPL patterns to get you started
        </p>
    </div>

    <div class="features-grid">
        <div class="feature-card">
            <h4 class="feature-title">Basic Search</h4>
            <pre class="spl-example">index=main sourcetype=syslog
| stats count by host
| sort -count
| head 10</pre>
            <p class="feature-description mt-md">
                Count events by host and show the top 10
            </p>
        </div>

        <div class="feature-card">
            <h4 class="feature-title">Time Analysis</h4>
            <pre class="spl-example">index=security EventCode=4625
| timechart span=1h count
| where count > 100</pre>
            <p class="feature-description mt-md">
                Find hours with unusual failed login activity
            </p>
        </div>

        <div class="feature-card">
            <h4 class="feature-title">Field Extraction</h4>
            <pre class="spl-example">index=web
| rex field=_raw "user=(?&lt;username&gt;\w+)"
| stats count by username</pre>
            <p class="feature-description mt-md">
                Extract usernames from raw events
            </p>
        </div>
    </div>
</section>

<!-- About Section -->
<section class="page-container">
    <div class="page-header">
        <h2 class="page-title">About SPLUNKed</h2>
        <p class="page-subtitle">
            SPLUNKed is an offline educational resource for security analysts learning
            Splunk's Search Processing Language. Inspired by the "scaffolding for learning"
            philosophy, it provides use-case driven content with progressive disclosure.
        </p>
        <p class="page-subtitle mt-md">
            <em>Not affiliated with Splunk Inc.</em>
        </p>
    </div>
</section>
{% endblock %}
