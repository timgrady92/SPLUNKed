{% extends "_base.html" %}

{% block title %}How-To Guides - SPLUNKed{% endblock %}

{% block content %}
{% from "_components.html" import search_input, category_tab %}

<div class="page-container">
    <!-- Page Header -->
    <header class="page-header">
        <h1 class="page-title">How-To Guides</h1>
        <p class="page-subtitle">
            Practical guides for getting things done in Splunk.
            Start here if you're new to SPL.
        </p>
    </header>

    <!-- Tabs Navigation -->
    <div class="tabs-container" id="guidesTabs">
        <div class="tabs-list" role="tablist">
            {{ category_tab('basics', 'Search Basics', active=true) }}
            {{ category_tab('summarizing', 'Counting & Summarizing') }}
            {{ category_tab('refining', 'Filtering & Refining') }}
            {{ category_tab('security', 'Security & Investigation') }}
            {{ category_tab('datasources', 'Data Sources') }}
            {{ category_tab('enriching', 'Enriching Data') }}
        </div>
    </div>

    <!-- Controls Bar -->
    <div class="controls-bar">
        {{ search_input(placeholder='Search guides...', id='guidesSearch') }}
    </div>

    <!-- Tab Panels -->
    <div id="basicsPanel" class="tab-panel active" role="tabpanel">
        <div class="guides-grid" id="basicsGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="summarizingPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="summarizingGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="refiningPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="refiningGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="securityPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="securityGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="datasourcesPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="datasourcesGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="enrichingPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="enrichingGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <!-- Empty State -->
    <div class="empty-state hidden" id="guidesEmptyState">
        <div class="empty-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="M21 21l-4.35-4.35"/>
            </svg>
        </div>
        <h3 class="empty-title">No guides found</h3>
        <p class="empty-message">Try adjusting your search or filter criteria.</p>
    </div>
</div>

<!-- Guide Modal -->
<div class="guide-modal" id="guideModal">
    <div class="guide-modal-overlay" id="guideModalOverlay"></div>
    <div class="guide-modal-content">
        <div class="guide-modal-header">
            <h2 class="guide-modal-title" id="guideModalTitle"></h2>
            <button class="guide-modal-close" id="guideModalClose" aria-label="Close modal">&times;</button>
        </div>
        <div class="guide-modal-body" id="guideModalBody">
            <!-- Populated by JavaScript -->
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='guides.js') }}"></script>
{% endblock %}
