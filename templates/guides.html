{% extends "_base.html" %}

{% block title %}How-To Guides - SPLUNKed{% endblock %}

{% block content %}
{% from "_components.html" import search_input, category_tab %}

<div class="page-container">
    <!-- Page Header -->
    <header class="page-header">
        <h1 class="page-title">How-To Guides</h1>
        <p class="page-subtitle">
            Practical guides for getting things done in Splunk.
            Start here if you're new to SPL.
        </p>
    </header>

    <!-- Grouped Navigation -->
    <div class="guides-nav" id="guidesNav">
        <div class="guides-nav-groups">
            <button class="guides-nav-group" data-group="all">
                <span class="nav-group-icon">&#9783;</span>
                <span class="nav-group-label">View All</span>
            </button>
            <button class="guides-nav-group active" data-group="searchFilter">
                <span class="nav-group-icon">&#128269;</span>
                <span class="nav-group-label">Search & Filter</span>
            </button>
            <button class="guides-nav-group" data-group="analyzeVisualize">
                <span class="nav-group-icon">&#128202;</span>
                <span class="nav-group-label">Analyze & Visualize</span>
            </button>
            <button class="guides-nav-group" data-group="dataEnrichment">
                <span class="nav-group-icon">&#128451;</span>
                <span class="nav-group-label">Data & Enrichment</span>
            </button>
            <button class="guides-nav-group" data-group="security">
                <span class="nav-group-icon">&#128737;</span>
                <span class="nav-group-label">Security</span>
            </button>
        </div>
        <div class="guides-nav-subs">
            <div class="guides-sub-tabs active" data-group="searchFilter">
                <button class="guides-sub-tab active" data-category="basics">Search Basics</button>
                <button class="guides-sub-tab" data-category="refining">Filtering & Refining</button>
            </div>
            <div class="guides-sub-tabs" data-group="analyzeVisualize">
                <button class="guides-sub-tab" data-category="summarizing">Counting & Summarizing</button>
                <button class="guides-sub-tab" data-category="visualizing">Visualizing Data</button>
                <button class="guides-sub-tab" data-category="dashboards">Dashboards</button>
            </div>
            <div class="guides-sub-tabs" data-group="dataEnrichment">
                <button class="guides-sub-tab" data-category="datasources">Data Sources</button>
                <button class="guides-sub-tab" data-category="enriching">Enriching Data</button>
            </div>
            <div class="guides-sub-tabs" data-group="security">
                <button class="guides-sub-tab" data-category="security">Investigation</button>
                <button class="guides-sub-tab" data-category="enterpriseSecurity">Enterprise Security</button>
            </div>
        </div>
    </div>

    <!-- Controls Bar -->
    <div class="controls-bar">
        {{ search_input(placeholder='Search guides...', id='guidesSearch') }}
    </div>

    <!-- Tab Panels -->
    <div id="allPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="allGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="basicsPanel" class="tab-panel active" role="tabpanel">
        <div class="guides-grid" id="basicsGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="summarizingPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="summarizingGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="refiningPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="refiningGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="visualizingPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="visualizingGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="securityPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="securityGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="enterpriseSecurityPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="enterpriseSecurityGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="datasourcesPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="datasourcesGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="enrichingPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="enrichingGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <div id="dashboardsPanel" class="tab-panel" role="tabpanel" hidden>
        <div class="guides-grid" id="dashboardsGrid">
            <!-- Populated by JavaScript -->
        </div>
    </div>

    <!-- Empty State -->
    <div class="empty-state hidden" id="guidesEmptyState">
        <div class="empty-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="M21 21l-4.35-4.35"/>
            </svg>
        </div>
        <h3 class="empty-title">No guides found</h3>
        <p class="empty-message">Try adjusting your search or filter criteria.</p>
    </div>
</div>

<!-- Guide Modal -->
<div class="guide-modal" id="guideModal">
    <div class="guide-modal-overlay" id="guideModalOverlay"></div>
    <div class="guide-modal-content">
        <div class="guide-modal-header">
            <h2 class="guide-modal-title" id="guideModalTitle"></h2>
            <button class="guide-modal-close" id="guideModalClose" aria-label="Close modal">&times;</button>
        </div>
        <div class="guide-modal-body" id="guideModalBody">
            <!-- Populated by JavaScript -->
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='guides.js') }}"></script>
{% endblock %}
